<!DOCTYPE html>
<html lang="en">

<head>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MGSKM9BJX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-7MGSKM9BJX');
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>HEX Color Editor – Edit, Preview, and Adjust Opacity Instantly</title>
    <meta name="description"
        content="Instantly preview and tweak HEX colors with full control over opacity, hue, saturation, and RGB sliders. Customize colors with ease—no sign-up needed." />

    <!-- Font -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600&display=swap"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600&display=swap">
    </noscript>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Color Wheel" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="../../css/styles.v1.css" />

    <!-- Copyright Roman Sevastianov 2025. All rights reserved.-->

    <style>
        body {
            overflow: hidden;
        }

        .buttons-container {
            position: relative;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
        }

        .sliders-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .slider-row {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 0 20px;
            box-sizing: border-box;
        }

        .tool-text-box {
            padding: 5px;
            height: 20px;
            font-weight: 500;
            width: fit-content;
        }
    </style>

</head>

<body>

    <nav class="top-nav">
        <div class="top-nav-left-block">
            <a href="/tools/" class="top-nav-btn">Tools</a>
        </div>

        <div class="top-nav-right-block">
            <a href="/" class="top-nav-btn">Download App</a>
        </div>
    </nav>


    <div class="buttons-container">
        <input class="tool-text-field" maxlength="9" />
        <button class="tool-button">COPY</button>
    </div>


    <div class="sliders-container">
        <div class="slider-row">
            <label class="tool-text-box">Opacity</label>
            <input class="slider" type="range" min="0" max="100" value="100" data-key="opacity" />
        </div>
        <div class="slider-row">
            <label class="tool-text-box">Hue</label>
            <input class="slider" type="range" min="0" max="360" value="316" data-key="hue" />
        </div>
        <div class="slider-row">
            <label class="tool-text-box">Saturation</label>
            <input class="slider" type="range" min="0" max="100" value="82" data-key="saturation" />
        </div>
        <div class="slider-row">
            <label class="tool-text-box">Brightness</label>
            <input class="slider" type="range" min="0" max="100" value="96" data-key="brightness" />
        </div>
        <div class="slider-row">
            <label class="tool-text-box">Red</label>
            <input class="slider" type="range" min="0" max="255" value="250" data-key="red" />
        </div>
        <div class="slider-row">
            <label class="tool-text-box">Green</label>
            <input class="slider" type="range" min="0" max="255" value="236" data-key="green" />
        </div>
        <div class="slider-row">
            <label class="tool-text-box">Blue</label>
            <input class="slider" type="range" min="0" max="255" value="246" data-key="blue" />
        </div>
    </div>


    <div class="toast">Copied #FFFFFF</div>


    <script>

        const input = document.querySelector('.tool-text-field');
        const copyBtn = document.querySelector('.tool-button');
        const sliders = document.querySelectorAll('input[type="range"]');
        const toast = document.querySelector('.toast');

        let { r, g, b, a } = hexToRgb("#FAECF6");
        let { h, s, v } = rgbToHsv(r, g, b);

        let state = {
            r, g, b, a,
            h, s, v,
            touchedOpacity: a < 1
        };

        const rgbMap = { red: 'r', green: 'g', blue: 'b' };

        function componentToHex(c) {
            return c.toString(16).padStart(2, "0").toUpperCase();
        }

        function rgbToHex(r, g, b, a = 1) {
            let hex = "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
            if (state.touchedOpacity && a < 1) {
                hex += componentToHex(Math.round(a * 255));
            }
            return hex;
        }

        function hexToRgb(hex) {
            if (!/^#([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/.test(hex)) return null;
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            const a = hex.length === 9 ? parseInt(hex.slice(7, 9), 16) / 255 : 1;
            return { r, g, b, a };
        }

        function rgbToHsv(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            const delta = max - min;
            let h = 0, s = 0, v = max;

            if (delta !== 0) {
                if (max === r) h = ((g - b) / delta) % 6;
                else if (max === g) h = (b - r) / delta + 2;
                else h = (r - g) / delta + 4;
                h = Math.round(h * 60);
                if (h < 0) h += 360;
                s = delta / max;
            }

            return {
                h: Math.round(h),
                s: Math.round(s * 100),
                v: Math.round(v * 100)
            };
        }

        function hsvToRgb(h, s, v) {
            s /= 100;
            v /= 100;
            const c = v * s;
            const x = c * (1 - Math.abs((h / 60) % 2 - 1));
            const m = v - c;
            let r1 = 0, g1 = 0, b1 = 0;

            if (h < 60) [r1, g1, b1] = [c, x, 0];
            else if (h < 120) [r1, g1, b1] = [x, c, 0];
            else if (h < 180) [r1, g1, b1] = [0, c, x];
            else if (h < 240) [r1, g1, b1] = [0, x, c];
            else if (h < 300) [r1, g1, b1] = [x, 0, c];
            else[r1, g1, b1] = [c, 0, x];

            return {
                r: Math.round((r1 + m) * 255),
                g: Math.round((g1 + m) * 255),
                b: Math.round((b1 + m) * 255)
            };
        }

        function updateUI() {
            document.body.style.backgroundColor = `rgba(${state.r}, ${state.g}, ${state.b}, ${state.a})`;
            input.value = rgbToHex(state.r, state.g, state.b, state.a);

            sliders.forEach(slider => {
                const key = slider.dataset.key;
                if (key === 'opacity') slider.value = Math.round(state.a * 100);
                else if (key === 'hue') slider.value = state.h;
                else if (key === 'saturation') slider.value = state.s;
                else if (key === 'brightness') slider.value = state.v;
                else slider.value = state[rgbMap[key]];
            });

            localStorage.setItem('lastColor', input.value);
        }

        sliders.forEach(slider => {
            const key = slider.dataset.key;

            slider.addEventListener('input', () => {
                if (key === 'opacity') {
                    state.touchedOpacity = true;
                    state.a = slider.value / 100;
                } else if (['red', 'green', 'blue'].includes(key)) {
                    const channel = rgbMap[key];
                    state[channel] = parseInt(slider.value);
                    const hsv = rgbToHsv(state.r, state.g, state.b);
                    if (!isNaN(hsv.h)) {
                        state.h = hsv.h;
                        state.s = hsv.s;
                        state.v = hsv.v;
                    }
                } else {
                    if (key === 'hue') state.h = parseInt(slider.value);
                    else if (key === 'saturation') state.s = parseInt(slider.value);
                    else if (key === 'brightness') state.v = parseInt(slider.value);
                    const rgb = hsvToRgb(state.h, state.s, state.v);
                    state.r = rgb.r;
                    state.g = rgb.g;
                    state.b = rgb.b;
                }

                updateUI();
            });
        });
        
        input.addEventListener('input', () => {
            const value = input.value.toUpperCase();
            const color = hexToRgb(value);
            if (color) {
                state.r = color.r;
                state.g = color.g;
                state.b = color.b;
                state.a = color.a;
                const hsv = rgbToHsv(state.r, state.g, state.b);
                if (!isNaN(hsv.h)) {
                    state.h = hsv.h;
                    state.s = hsv.s;
                    state.v = hsv.v;
                }
                updateUI();
            }
        });

        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(input.value);
            toast.innerText = `Copied ${input.value}`;
            toast.style.opacity = 1;
            setTimeout(() => { toast.style.opacity = 0; }, 2500);
        });

        const saved = localStorage.getItem('lastColor');
        if (saved) {
            const color = hexToRgb(saved);
            if (color) {
                state.r = color.r;
                state.g = color.g;
                state.b = color.b;
                state.a = color.a;
                const hsv = rgbToHsv(state.r, state.g, state.b);
                if (!isNaN(hsv.h)) {
                    state.h = hsv.h;
                    state.s = hsv.s;
                    state.v = hsv.v;
                }
            }
        }

        updateUI();

    </script>

</body>

</html>