<!DOCTYPE html>
<html lang="en">

<head>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7MGSKM9BJX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-7MGSKM9BJX');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Free Color Converter: HEX, RGB, CMYK, HSB, HSL</title>
    <meta name="description"
        content="Convert colors instantly with our free online tool. Easily transform HEX, RGB, CMYK, HSB, and HSL color codes for your design and web projects." />

    <!-- Font -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600&display=swap"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600&display=swap">
    </noscript>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="../../css/styles.v1.css" />

    <style>
        .converter-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            margin-top: 40px;
            gap: 20px;
        }

        .copy-btn {
            content: '';
        }

        .tool-text-field.wider {
            width: 140px;
        }

        .tool-text-box.shorter {
            width: 60px;
        }

        .tool-button.shorter {
            width: 60px;
        }

        .color-row {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 20px;
        }

        .history-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            width: 360px;
        }

        .history-btn {
            width: 40px;
            height: 40px;
            border: 1px solid white;
            cursor: pointer;
            padding: 0;
            transition: all 0.2s ease;
        }

        .history-btn:hover {
            border-color: var(--color-text);
        }
    </style>

</head>

<body>

    <nav class="top-nav">
        <div class="top-nav-left-block">
            <a href="/tools" class="top-nav-btn">Tools</a>
        </div>

        <div class="top-nav-right-block">
            <a href="/" class="top-nav-btn">Download App</a>
        </div>
    </nav>

    <div class="converter-container">
        <div class="color-row">
            <div class="tool-text-box shorter">HEX</div>
            <input type="text" class="tool-text-field wider" id="hex-input" data-format="hex">
            <button class="tool-button shorter copy-btn" data-target="hex-input">COPY</button>
        </div>
        <div class="color-row">
            <div class="tool-text-box shorter">RGB</div>
            <input type="text" class="tool-text-field wider" id="rgb01-input" data-format="rgb01">
            <button class="tool-button shorter copy-btn" data-target="rgb01-input">COPY</button>
        </div>
        <div class="color-row">
            <div class="tool-text-box shorter">RGB</div>
            <input type="text" class="tool-text-field wider" id="rgb255-input" data-format="rgb255">
            <button class="tool-button shorter copy-btn" data-target="rgb255-input">COPY</button>
        </div>
        <div class="color-row">
            <div class="tool-text-box shorter">CMYK</div>
            <input type="text" class="tool-text-field wider" id="cmyk-input" data-format="cmyk">
            <button class="tool-button shorter copy-btn" data-target="cmyk-input">COPY</button>
        </div>
        <div class="color-row">
            <div class="tool-text-box shorter">HSB</div>
            <input type="text" class="tool-text-field wider" id="hsb01-input" data-format="hsb01">
            <button class="tool-button shorter copy-btn" data-target="hsb01-input">COPY</button>
        </div>
        <div class="color-row">
            <div class="tool-text-box shorter">HSB</div>
            <input type="text" class="tool-text-field wider" id="hsb360-input" data-format="hsb360">
            <button class="tool-button shorter copy-btn" data-target="hsb360-input">COPY</button>
        </div>
        <div class="color-row">
            <div class="tool-text-box shorter">HSL</div>
            <input type="text" class="tool-text-field wider" id="hsl360-input" data-format="hsl360">
            <button class="tool-button shorter copy-btn" data-target="hsl360-input">COPY</button>
        </div>
        <div class="history-container" id="history-container"></div>
    </div>

    <div id="toast-message" class="toast">Copied to clipboard!</div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM ELEMENT REFERENCES ---
            const inputs = {
                hex: document.getElementById('hex-input'),
                rgb01: document.getElementById('rgb01-input'),
                rgb255: document.getElementById('rgb255-input'),
                cmyk: document.getElementById('cmyk-input'),
                hsb01: document.getElementById('hsb01-input'),
                hsb360: document.getElementById('hsb360-input'),
                hsl360: document.getElementById('hsl360-input'),
            };
            const copyButtons = document.querySelectorAll('.copy-btn');
            const toastMessage = document.getElementById('toast-message');
            const historyContainer = document.getElementById('history-container');

            // --- STATE ---
            let colorHistory = [];
            const HISTORY_COUNT = 6;

            // --- CORE LOGIC ---
            function updateAllColors(e) {
                const sourceInput = e.target;
                const sourceFormat = sourceInput.dataset.format;
                const sourceValue = sourceInput.value;

                let rgb = null;

                switch (sourceFormat) {
                    case 'hex': rgb = hexToRgb(sourceValue); break;
                    case 'rgb01': rgb = rgb01ToRgb(sourceValue); break;
                    case 'rgb255': rgb = rgb255ToRgb(sourceValue); break;
                    case 'cmyk': rgb = cmykToRgb(sourceValue); break;
                    case 'hsb01':
                    case 'hsb360': rgb = hsvToRgb(sourceValue, sourceFormat); break;
                    case 'hsl360': rgb = hslToRgb(sourceValue); break;
                }

                if (!rgb) { return; }

                document.body.style.backgroundColor = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;

                const conversions = {
                    hex: rgbToHex(rgb.r, rgb.g, rgb.b),
                    rgb01: rgbToRgb01(rgb.r, rgb.g, rgb.b),
                    rgb255: `${rgb.r} : ${rgb.g} : ${rgb.b}`,
                    cmyk: rgbToCmyk(rgb.r, rgb.g, rgb.b),
                    hsb01: rgbToHsv(rgb.r, rgb.g, rgb.b, 'hsb01'),
                    hsb360: rgbToHsv(rgb.r, rgb.g, rgb.b, 'hsb360'),
                    hsl360: rgbToHsl(rgb.r, rgb.g, rgb.b),
                };

                const activeElement = document.activeElement;
                for (const format in inputs) {
                    if (inputs[format] !== activeElement) {
                        inputs[format].value = conversions[format];
                    }
                }

                localStorage.setItem('color-converter-color', conversions.hex);
                updateHistory(conversions.hex);
            }

            // --- HISTORY LOGIC ---
            function updateHistory(newHexColor) {
                if (colorHistory[0] !== newHexColor) {
                    colorHistory.unshift(newHexColor);
                    if (colorHistory.length > HISTORY_COUNT) {
                        colorHistory.pop();
                    }
                    localStorage.setItem('color-history', JSON.stringify(colorHistory));
                    updateHistoryUI();
                }
            }

            function updateHistoryUI() {
                const buttons = historyContainer.querySelectorAll('.history-btn');
                buttons.forEach((button, index) => {
                    const color = colorHistory[index] || '#FFFFFF'; // Default to white
                    button.style.backgroundColor = color;
                    button.dataset.color = color;
                });
            }

            function handleHistoryClick(e) {
                const color = e.target.dataset.color;
                if (color) {
                    inputs.hex.value = color;
                    const event = new Event('input', { bubbles: true, cancelable: true });
                    inputs.hex.dispatchEvent(event);
                }
            }


            // --- CONVERSION FUNCTIONS (STRING to RGB) ---
            function hexToRgb(hex) {
                const match = hex.trim().match(/^#?([0-9a-f]{3}|[0-9a-f]{6})$/i);
                if (!match) return null;
                let hexVal = match[1];
                if (hexVal.length === 3) {
                    hexVal = hexVal.split('').map(char => char + char).join('');
                }
                const bigint = parseInt(hexVal, 16);
                return { r: (bigint >> 16) & 255, g: (bigint >> 8) & 255, b: bigint & 255 };
            }

            function rgb255ToRgb(str) {
                const parts = str.trim().split(/[\s,:]+/).filter(Boolean);
                if (parts.length !== 3) return null;
                const nums = parts.map(Number);
                if (nums.some(isNaN)) return null;
                const [r, g, b] = nums;
                if (r < 0 || r > 255 || g < 0 || g > 255 || b < 0 || b > 255 || nums.some(n => n !== Math.round(n))) {
                    return null;
                }
                return { r, g, b };
            }

            function rgb01ToRgb(str) {
                const parts = str.trim().split(/[\s,:]+/).filter(Boolean);
                if (parts.length !== 3) return null;
                const nums = parts.map(Number);
                if (nums.some(isNaN)) return null;
                const [r01, g01, b01] = nums;
                if (r01 < 0 || r01 > 1 || g01 < 0 || g01 > 1 || b01 < 0 || b01 > 1) {
                    return null;
                }
                return { r: Math.round(r01 * 255), g: Math.round(g01 * 255), b: Math.round(b01 * 255) };
            }

            function cmykToRgb(str) {
                const parts = str.trim().replace(/%/g, '').split(/[\s,:]+/).filter(Boolean);
                if (parts.length !== 4) return null;
                const nums = parts.map(Number);
                if (nums.some(isNaN)) return null;
                let [c, m, y, k] = nums;
                if (c < 0 || c > 100 || m < 0 || m > 100 || y < 0 || y > 100 || k < 0 || k > 100) {
                    return null;
                }
                c /= 100; m /= 100; y /= 100; k /= 100;
                const r = 255 * (1 - c) * (1 - k);
                const g = 255 * (1 - m) * (1 - k);
                const b = 255 * (1 - y) * (1 - k);
                return { r: Math.round(r), g: Math.round(g), b: Math.round(b) };
            }

            function hsvToRgb(str, format) {
                const parts = str.trim().split(/[\s,:]+/).filter(Boolean);
                if (parts.length !== 3) return null;
                const nums = parts.map(Number);
                if (nums.some(isNaN)) return null;
                let [h, s, v] = nums;
                if (format === 'hsb360') {
                    if (h < 0 || h > 360 || s < 0 || s > 100 || v < 0 || v > 100) return null;
                    h /= 360; s /= 100; v /= 100;
                } else {
                    if (h < 0 || h > 1 || s < 0 || s > 1 || v < 0 || v > 1) return null;
                }
                let r, g, b;
                const i = Math.floor(h * 6);
                const f = h * 6 - i;
                const p = v * (1 - s);
                const q = v * (1 - f * s);
                const t = v * (1 - (1 - f) * s);
                switch (i % 6) {
                    case 0: r = v, g = t, b = p; break;
                    case 1: r = q, g = v, b = p; break;
                    case 2: r = p, g = v, b = t; break;
                    case 3: r = p, g = q, b = v; break;
                    case 4: r = t, g = p, b = v; break;
                    case 5: r = v, g = p, b = q; break;
                }
                return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };
            }

            function hslToRgb(str) {
                const parts = str.trim().split(/[\s,:]+/).filter(Boolean);
                if (parts.length !== 3) return null;
                const nums = parts.map(Number);
                if (nums.some(isNaN)) return null;
                let [h, s, l] = nums;
                if (h < 0 || h > 360 || s < 0 || s > 100 || l < 0 || l > 100) return null;
                h /= 360; s /= 100; l /= 100;
                let r, g, b;
                if (s === 0) { r = g = b = l; } else {
                    const hue2rgb = (p, q, t) => {
                        if (t < 0) t += 1; if (t > 1) t -= 1;
                        if (t < 1 / 6) return p + (q - p) * 6 * t;
                        if (t < 1 / 2) return q;
                        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                        return p;
                    };
                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;
                    r = hue2rgb(p, q, h + 1 / 3); g = hue2rgb(p, q, h); b = hue2rgb(p, q, h - 1 / 3);
                }
                return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };
            }


            // --- CONVERSION FUNCTIONS (RGB to STRING) ---
            function rgbToHex(r, g, b) {
                const toHex = c => ('0' + Math.round(c).toString(16)).slice(-2);
                return `#${toHex(r)}${toHex(g)}${toHex(b)}`.toUpperCase();
            }

            function rgbToRgb01(r, g, b) {
                const r01 = (r / 255).toFixed(2);
                const g01 = (g / 255).toFixed(2);
                const b01 = (b / 255).toFixed(2);
                return `${r01} : ${g01} : ${b01}`;
            }

            function rgbToCmyk(r, g, b) {
                let c = 1 - (r / 255); let m = 1 - (g / 255); let y = 1 - (b / 255);
                const k = Math.min(c, m, y);
                if (k === 1) { c = m = y = 0; } else {
                    c = (c - k) / (1 - k); m = (m - k) / (1 - k); y = (y - k) / (1 - k);
                }
                return `${Math.round(c * 100)} : ${Math.round(m * 100)} : ${Math.round(y * 100)} : ${Math.round(k * 100)}`;
            }

            function rgbToHsv(r, g, b, format) {
                r /= 255, g /= 255, b /= 255;
                const max = Math.max(r, g, b), min = Math.min(r, g, b);
                let h, s, v = max;
                const d = max - min;
                s = max === 0 ? 0 : d / max;
                if (max === min) { h = 0; } else {
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }
                if (format === 'hsb360') {
                    return `${Math.round(h * 360)} : ${Math.round(s * 100)} : ${Math.round(v * 100)}`;
                }
                return `${h.toFixed(2)} : ${s.toFixed(2)} : ${v.toFixed(2)}`;
            }

            function rgbToHsl(r, g, b) {
                r /= 255, g /= 255, b /= 255;
                const max = Math.max(r, g, b), min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;
                if (max === min) { h = s = 0; } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }
                return `${Math.round(h * 360)} : ${Math.round(s * 100)} : ${Math.round(l * 100)}`;
            }

            // --- UTILITY FUNCTIONS ---
            function showToast(message) {
                toastMessage.textContent = message;
                toastMessage.style.opacity = 1;
                setTimeout(() => { toastMessage.style.opacity = 0; }, 2500);
            }
            function copyToClipboard(e) {
                const button = e.target;
                const targetInputId = button.dataset.target;
                const inputToCopy = document.getElementById(targetInputId);
                const textArea = document.createElement('textarea');
                textArea.value = inputToCopy.value;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast(`Copied ${textArea.value}`);
                } catch (err) {
                    showToast('Copying failed.');
                }
                document.body.removeChild(textArea);
            }

            // --- EVENT LISTENERS ---
            for (const key in inputs) {
                inputs[key].addEventListener('input', updateAllColors);
            }
            copyButtons.forEach(button => button.addEventListener('click', copyToClipboard));

            // --- INITIALIZATION ---
            function initialize() {
                // 1. Initialize History
                const savedHistory = localStorage.getItem('color-history');
                if (savedHistory) {
                    colorHistory = JSON.parse(savedHistory);
                } else {
                    // Generate 6 default colors if no history exists
                    colorHistory = Array.from({ length: HISTORY_COUNT }, (_, i) => {
                        const hslString = `${i * 60} : 90 : 60`; // 360 / 6 = 60
                        const rgb = hslToRgb(hslString);
                        return rgbToHex(rgb.r, rgb.g, rgb.b);
                    });
                }

                historyContainer.innerHTML = '';
                for (let i = 0; i < HISTORY_COUNT; i++) {
                    const button = document.createElement('button');
                    button.className = 'history-btn';
                    button.addEventListener('click', handleHistoryClick);
                    historyContainer.appendChild(button);
                }
                updateHistoryUI();

                // 2. Initialize the main color converter
                const initialHex = localStorage.getItem('color-converter-color') || colorHistory[0];
                inputs.hex.value = initialHex;
                const event = new Event('input', { bubbles: true, cancelable: true });
                inputs.hex.dispatchEvent(event);
            }

            initialize();
        });
    </script>

</body>

</html>